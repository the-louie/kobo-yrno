var d3 = require('d3');
var jsdom = require('jsdom');

yrno_icons = [
		[], // placeholder, no icon 0
		[	// icon 1
			{
				tag: "path",
				fill: "#000",
				d: 'M242.5,84.3v56.5H257V84.3H242.5z M177,100.2l-12.5,8l30,48l12.5-8L177,100.2L177,100.2z M324,101.8l-27.5,49.5l13,7.5l27.5-49.5L324,101.8z M112.5,155.7l-7,13l49,27.5l7.5-13L112.5,155.7L112.5,155.7z M250,157.7c-50.5,0-91.5,41.5-91.5,92s41,92,91.5,92s91.5-41,91.5-92S300.5,157.7,250,157.7z M388.5,159.8l-49,28l7.5,13l49-28.5L388.5,159.8L388.5,159.8z M84,237.7v15h56.5v-15H84z M359.5,238.8v14.5H416v-14.5H359.5z M148.5,290.7l-47.5,30l7.5,12.5l48-30L148.5,290.7zM349,294.3l-7,13l49,27.5l7.5-13L349,294.3z M311.5,339.3l-12.5,7.5l28,49l12.5-7.5L311.5,339.3z M188.5,339.8L161,389.3l13,7.5l27.5-49.5C201.5,346.8,188.5,339.8,188.5,339.8z M242,359.3v56.5h14.5v-56.5H242z'
			}
		], [	// icon 2
			{
				tag: "path",
				fill: "#000",
				d: "M254.5,84.3v56.5H269V84.3H254.5z M189,100.2l-12.5,8l30,48l12.5-8L189,100.2L189,100.2z M336,101.8l-27.5,49.5l13,7.5l27.5-49.5L336,101.8z M124.5,155.7l-7,13l49,27.5l7.5-13L124.5,155.7L124.5,155.7z M262,157.7c-50.5,0-91.5,41.5-91.5,92s41,92,91.5,92s91.5-41,91.5-92S312.5,157.7,262,157.7z M400.5,159.8l-49,28l7.5,13l49-28.5L400.5,159.8L400.5,159.8z M96,237.7v15h56.5v-15H96z M371.5,238.8v14.5H428v-14.5H371.5z M160.5,290.7l-47.5,30l7.5,12.5l48-30L160.5,290.7zM361,294.3l-7,13l49,27.5l7.5-13L361,294.3z M323.5,339.3l-12.5,7.5l28,49l12.5-7.5L323.5,339.3z M200.5,339.8L173,389.3l13,7.5l27.5-49.5C213.5,346.8,200.5,339.8,200.5,339.8z M254,359.3v56.5h14.5v-56.5H254z"
			}, {
				tag: "path",
				fill: "#000",
				stroke: "#FFFFFF",
				'stroke-width': 8,
				'stroke-miterlimit': 10,
				d: 'M329.3,255c-29,0-52.3,23.1-54,51.6c-14,1.4-25.2,11.9-27.6,25.7c-0.7,0-1.4-0.5-2.4-0.5c-15.5,0-28.1,12.6-28.1,27.8c0,7.6,3.6,14.3,9,17.8c5.5,3.6,12.1,4.8,19,4.8h71.4h38.8h35.9c24.3,0,44.2-19.7,44.2-44.2c0-24.3-19.7-44.2-44.2-44.2c-3.8,0-7.1,1-10.5,1.9C375,272.6,354.5,255,329.3,255L329.3,255z'
			}
		], [
			{
				tag: "path",
				fill: "#000",
				d: "M309.5,25.3v56.5H324V25.3H309.5z M244,41.2l-12.5,8l30,48l12.5-8L244,41.2L244,41.2z M391,42.8l-27.5,49.5l13,7.5L404,50.3L391,42.8z M179.5,96.7l-7,13l49,27.5l7.5-13L179.5,96.7L179.5,96.7z M317,98.7c-50.5,0-91.5,41.5-91.5,92s41,92,91.5,92s91.5-41,91.5-92S367.5,98.7,317,98.7z M455.5,100.8l-49,28l7.5,13l49-28.5L455.5,100.8L455.5,100.8z M151,178.7v15h56.5v-15H151z M426.5,179.8v14.5H483v-14.5H426.5z M215.5,231.7l-47.5,30l7.5,12.5l48-30L215.5,231.7z M416,235.3l-7,13l49,27.5l7.5-13L416,235.3z M378.5,280.3l-12.5,7.5l28,49l12.5-7.5L378.5,280.3z M255.5,280.8L228,330.3l13,7.5l27.5-49.5C268.5,287.8,255.5,280.8,255.5,280.8z M309,300.3v56.5h14.5v-56.5H309z",
			}, {
				tag: "path",
				fill: "#000",
				stroke: "#FFF",
				'stroke-width': 8,
				"stroke-miterlimit": 10,
				d: "M242.6,135.3c-52.3,0-94.3,41.6-97.3,93c-25.3,2.6-45.4,21.4-49.7,46.3c-1.3,0-2.6-0.9-4.3-0.9c-27.9,0-50.6,22.7-50.6,50.2c0,13.7,6.4,25.7,16.3,32.2c9.9,6.4,21.9,8.6,34.3,8.6h128.6h69.9h64.7c43.7,0,79.8-35.6,79.8-79.8c0-43.7-35.6-79.8-79.8-79.8c-6.9,0-12.9,1.7-18.9,3.4C324.9,167,288,135.3,242.6,135.3L242.6,135.3z",
			}
		]

	];


function append_icon(element, id, x, y) {
	var icon = yrno_icons[id];
	var g = element.append('g').attr('transform','translate('+x+','+y+') scale(0.1)').attr('id','icon_'+id);
	icon.forEach(function(path)Â {
		var p = g.append('path');
		Object.keys(path).forEach(function(attr) {
			p.attr(attr, path[attr]);
		});
	});

}

jsdom.env({
	features : { QuerySelector : true },
	html : '<root/>',
	done : function(errors, window) {
		var el = window.document.querySelector('root');

		// append the svg to the container selector
		var g = d3.select(el)
			.append('svg:svg')
				.attr('xmlns', 'http://www.w3.org/2000/svg')
				.attr('width', 600)
				.attr('height', 800);

		append_icon(g, 1, 0, 0);
		append_icon(g, 2, 40, 0);
		append_icon(g, 3, 80, 0);

		g.append('text')
			.attr('x', 100)
			.attr('y', 100)
			.text("hej kicki")
			.attr("font-family", "sans-serif")
			.attr("font-size", "20px")
			.attr("fill", "black");

		var svgsrc = el.innerHTML;
		console.log(svgsrc);
	}
});
